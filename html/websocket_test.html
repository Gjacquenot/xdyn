<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Websocket Test</title>
        <link type="text/css" rel="stylesheet" href="static/css/materialize.min.css"  media="screen,projection"/>
        <link rel="stylesheet" type="text/css" href="static/css/fonts.css"/>
        <link rel="stylesheet" type="text/css" href="static/css/layout.css"/>
        <!--<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,700"/>-->
        <script type="text/javascript" src="static/third_party/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="static/third_party/js-yaml.min.js"></script>
        <script type="text/javascript" src="static/third_party/flot/jquery.flot.js"></script>
        <script type="text/javascript" src="static/third_party/snap.svg-min.js"></script>
        <script type="text/javascript" src="static/third_party/base91/base91Float32.js"></script>
        <script type="text/javascript" src="static/js/materialize.min.js"></script>
        <script type="text/javascript" src="static/utilities_for_list_of_gui_elements.js"></script>
        <script type="text/javascript" src="static/realtime_plot.js"></script>
        <script type="text/javascript" src="static/websocket.js"></script>
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    </head>

    <body>
        <div id="websocket_address" style="display: none;">{{ websocket_address }}</div>
        <div id="main" class="row">
            <div id="title"><h1>Ship Simulator</h1></div>
            <div class="col s6">
                <form id="filechooser" method="POST" enctype="multipart/form-data">
                    <h2>Models &amp; configuration</h2>
                    <!--YAML file selector-->
                    <div id="yamlfilechooser">
                        <div class="file-field input-field">
                            <input class="file-path validate" ID="yaml_file_name" type="text"/><br/>
                            <div class="btn blue darken-1">
                                <span>YAML</span>
                                <input type="file" ID="yaml_upload" name="yaml_file"/>
                            </div>
                        </div>
                    </div>
                    <!--STL file selector-->
                    <div id="stlfilechooser">
                        <div class="file-field input-field">
                            <input class="file-path validate" ID="stl_file_name" type="text"/><br/>
                            <div class="btn blue darken-1" id="stl_button">
                                <span>STL</span>
                                <input type="file" ID="stl_upload" name="stl_file"/>
                            </div>
                        </div>
                    </div>
                    
                    
                    <!--Solver-->
                    <div id="solver">
                        <h2>Simulation</h2>
                            <h3>Solver</h3>
                            <select ID="solver_chooser" name="solver" type="text">
                                <option value="euler">Euler</option>
                                <option value="rk4">Runge-Kutta 4</option>
                                <option value="rkck">Runge-Kutta-Cash-Karp</option>
                            </select>
                            <h3>Time step (in seconds)</h3>
                            <input value="0.1" id="stepstep" name="dt" type="number" min="0" step="any" class="validate">
                            <h3>Duration (in seconds)</h3>
                            <input value="10" id="durationduration" name="T" type="number" min="0" step="any" class="validate">
                    </div>

                    <!--Outputs-->
                    <div id="outputs">
                        <h2>Outputs</h2>
                        <p>
                        <input type="checkbox" class="filled-in" id="output-csv" name="csv"/>
                        <label for="output-csv">CSV (comma-separated values)</label>
                        </p>
                        <p>
                        <input type="checkbox" class="filled-in" id="output-tsv" name="tsv"/>
                        <label for="output-tsv">TSV (tab-separated values)</label>
                        </p>
                        <p>
                        <input type="checkbox" class="filled-in" id="output-hdf5" name="hdf5"/>
                        <label for="output-hdf5">HDF5 (binary format)</label>
                        </p>
                    </div>
                </form>

            </div>
            <div class="col s6" id="output">
                <!--Run button-->
                <div id="run_button">
                    <button class="btn waves-effect blue" type="submit" name="action">Run
                    </button>
                </div>
                <h2 id="graph_title">Plots</h2>
                <div id="graph" style="width:600px;height:300px">
                </div>
                <form id="graph_controls" method="POST" enctype="multipart/form-data">
                    <table>
                        <thead>
                            <tr>
                                <th>Position</th>
                                <th>Attitude</th>
                                <th>Translation speed</th>
                                <th>Rotation speed</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" class="filled-in " id= "plotx" name="plot_x"/><label for="plotx">x</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotphi" name="plot_phi"/><label for="plotphi">phi</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotu" name="plot_u"/><label for="plotu">u</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotp" name="plot_x"/><label for="plotp">p</label></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="filled-in" id= "ploty" name="plot_y"/><label for="ploty">y</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plottheta" name="plot_theta"/><label for="plottheta">theta</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotv" name="plot_v"/><label for="plotv">v</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotq" name="plot_x"/><label for="plotq">q</label></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="filled-in" id= "plotz" name="plot_z"/><label for="plotz">z</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotpsi" name="plot_psi"/><label for="plotpsi">psi</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotw" name="plot_w"/><label for="plotw">w</label></td>
                                <td><input type="checkbox" class="filled-in" id= "plotr" name="plot_x"/><label for="plotr">r</label></td>
                            </tr>
                        </tbody>
                    <table>
                </form>
            </div>
        </div>
    </body>
</html>
