<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Websocket Test</title>
        <link href="static/css/bootstrap-3.3.5-dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="static/css/jasny-bootstrap/css/jasny-bootstrap.min.css" rel="stylesheet">
<!--        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->
        <link rel="stylesheet" type="text/css" href="static/css/fonts.css"/>
        <link rel="stylesheet" type="text/css" href="static/css/layout.css"/>
        <script type="text/javascript" src="static/third_party/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="static/third_party/js-yaml.min.js"></script>
        <script type="text/javascript" src="static/third_party/flot/jquery.flot.js"></script>
        <script type="text/javascript" src="static/third_party/jquery.color.js"></script>
        <script type="text/javascript" src="static/third_party/snap.svg-min.js"></script>
        <script type="text/javascript" src="static/third_party/base91/base91Float32.js"></script>
        <script type="text/javascript" src="static/css/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="static/css/jasny-bootstrap/js/jasny-bootstrap.min.js"></script>
        <script type="text/javascript" src="static/utilities_for_list_of_gui_elements.js"></script>
        <script type="text/javascript" src="static/realtime_plot.js"></script>
        <script type="text/javascript" src="static/websocket.js"></script>
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    </head>

    <body>
        <div id="websocket_address" style="display: none;">{{ websocket_address }}</div>
        <div id="title">
            <h1>Ship Simulator</h1>
        </div>
        <div class="row">
            <div class="col-md-4">
                <form id="filechooser" method="POST" enctype="multipart/form-data">
                    <h2>Models &amp; configuration</h2>
                    <!--YAML file selector-->
                    <div id='yamlfilechooser' class="fileinput fileinput-new" data-provides="fileinput">
                        <span class="btn btn-default btn-file">
                            <span class="fileinput-new">Choose YAML file</span>
                            <span class="fileinput-exists">YAML</span>
                            <input type="file" name="yaml_file" id="yaml_upload"/>
                        </span>
                        <span class="fileinput-filename"></span>
                    </div>
                    <!--STL file selector-->
                    <div id='stlfilechooser' class="fileinput fileinput-new" data-provides="fileinput">
                        <span class="btn btn-default btn-file">
                            <span class="fileinput-new">Choose STL file</span>
                            <span class="fileinput-exists">STL</span>
                            <input type="file" name="stl_file" id="stl_upload"/>
                        </span>
                        <span class="fileinput-filename"></span>
                    </div>
                    
                    <!--Solver-->
                    <div id="solver">
                        <h2>Simulation</h2>
                        <h3>Solver</h3>
                        <div class="btn-group" id='solver' data-toggle="buttons">
                            <label class="btn btn-default active">
                                <input type="radio" value="euler" autocomplete="off"/> Euler
                            </label>
                            <label class="btn btn-default">
                                <input type="radio" value="rk4" autocomplete="off"/> Runge-Kutta 4
                            </label>
                            <label class="btn btn-default">
                                <input type="radio" value="rkck" autocomplete="off"/> Runge-Kutta-Cash-Karp
                            </label>
                        </div>
                        <h3>Time step (in seconds)</h3>
                        <input class="form-control" value="0.1" id="stepstep" name="dt" type="number" min="0" step="any" class="validate">
                        <h3>Duration (in seconds)</h3>
                        <input class="form-control" value="10" id="durationduration" name="T" type="number" min="0" step="any" class="validate"/>
                    </div>

                    <!--Outputs-->
                    <div class="btn-group-vertical" id='outputs' data-toggle="buttons">
                        <h2>Plots</h2>
                        <label class="btn btn-default">
                            <input type="checkbox" value="position" autocomplete="off"/> Position
                        </label>
                        <label class="btn btn-default">
                            <input type="checkbox" value="attitude" autocomplete="off"/> Attitude
                        </label>
                        <label class="btn btn-default">
                            <input type="checkbox" value="quaternions" autocomplete="off"/> Quaternions
                        </label>
                        <label class="btn btn-default">
                            <input type="checkbox" value="speed" autocomplete="off"/> Speed
                        </label>
                        <label class="btn btn-default">
                            <input type="checkbox" value="rotational-speed" autocomplete="off"/> Rotational speed
                        </label>
                    </div>
                    <!--Run button-->
                    <div id="run_button">
                        <button class="btn btn-primary" type="submit" name="action">Run
                        </button>
                    </div>
                </form>
            </div>
           
            <div id="output" class="col-md-8">
                <div id="graph" style="height:300px"></div>
                <div id="plot_selector"></div>
                <div id="results">
                <h2>Results</h2>
                    <a href="outputs/out.csv" download class="btn btn-success"><span class="glyphicon glyphicon-download"></span> CSV</a>
                    <a href="outputs/out.hdf5" download class="btn btn-success"><span class="glyphicon glyphicon-download"></span> HDF5</a>
                </div>
            </div>
        </div>
    </body>
</html>
